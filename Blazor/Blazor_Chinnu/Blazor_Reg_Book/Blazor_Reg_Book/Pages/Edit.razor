@page "/Edit/{Id}"
@using Blazor_Reg_Book.Data.Interfaces
@using Blazor_Reg_Book.Data.Models
@using Blazor_Reg_Book.Data.Services

@inject IBookServices _bookservie;
@inject NavigationManager navigationManager

<h3>Edit</h3>
<hr />
<div>
    <form @onsubmit="Update">

        <div>
            <label for="Title">Title</label>
            <input id="Title"  @bind="bookupdate.Title"/>
        </div>

        <div>
            <label for="Author">Author</label>
            <input id="Author" @bind="bookupdate.Author" />
        </div>
        <div>
            <label for="Description">Description</label>
            <input id="Description" @bind="bookupdate.Description" />
        </div>
        <div>
            <label for="Publisheddate">Published date</label>
            <input id="Publisheddate" @bind="bookupdate.PublishedDate" />
        </div>

        <div class="form-group">
            <button class="mt-3 btn btn-primary" type="submit">Update</button>
        </div>

        <div>
            <NavLink class="nav-link" href="/">Back to List</NavLink>
        </div>
        </form>
</div>
@code {

    [Parameter]
    public string Id{ get; set; }


    private Book bookupdate = new Book();

    protected override void OnInitialized()
    {
        bookupdate = _bookservie.GetBookById(Convert.ToInt32(Id));
    }
    protected void Update()
    {
        _bookservie.UpdateBook(bookupdate);
        navigationManager.NavigateTo("/Index");
    }


}
