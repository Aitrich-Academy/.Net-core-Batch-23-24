@page "/Edit/{Id}"


@inject IBookService bookService
@inject NavigationManager navigationManager
<h3>Edit Book</h3>

<hr />
<div class="row">
    <div class="col-md-4">
        <form @onsubmit="Update">

            <div class="form-group">
                <span class="text-danger">*</span>
                <label for="Title" class="control-label">Title</label>
                <input id="Title" class="form-control" @bind="book.Title" />

            </div>

            <div class="form-group">
                <span class="text-danger">*</span>
                <label for="Author" class="control-label">Author</label>
                <input id="Author" class="form-control" @bind="book.Author" />

            </div>

            <div class="form-group">
                <button class="mt-3 btn btn-primary" type="submit" >Update</button>
            </div>

            <div>
                <NavLink class="nav-link" href="/">Back to List</NavLink>
            </div>
        </form>
    </div>
</div>

@code {

    [Parameter]
    public string Id { get; set; }
    //public Book booklist;
    private Book book = new Book();
    protected override void OnInitialized()
    {
        book = bookService.GetBookById(Convert.ToInt32(Id));
    }
    protected void Update()
    {
        bookService.UpdateBook(book);
        navigationManager.NavigateTo("/");
    }

}
